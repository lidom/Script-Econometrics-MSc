<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.2 Time Series Data and Serial Correlation | Introduction to Econometrics with R</title>
  <meta name="description" content="Beginners with little background in statistics and econometrics often have a hard time understanding the benefits of having programming skills for learning and applying Econometrics. ‘Introduction to Econometrics with R’ is an interactive companion to the well-received textbook ‘Introduction to Econometrics’ by James H. Stock and Mark W. Watson (2015). It gives a gentle introduction to the essentials of R programming and guides students in implementing the empirical applications presented throughout the textbook using the newly aquired skills. This is supported by interactive programming exercises generated with DataCamp Light and integration of interactive visualizations of central concepts which are based on the flexible JavaScript library D3.js." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="2.2 Time Series Data and Serial Correlation | Introduction to Econometrics with R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://www.econometrics-with-r.org/" />
  <meta property="og:image" content="https://www.econometrics-with-r.org/images/cover.png" />
  <meta property="og:description" content="Beginners with little background in statistics and econometrics often have a hard time understanding the benefits of having programming skills for learning and applying Econometrics. ‘Introduction to Econometrics with R’ is an interactive companion to the well-received textbook ‘Introduction to Econometrics’ by James H. Stock and Mark W. Watson (2015). It gives a gentle introduction to the essentials of R programming and guides students in implementing the empirical applications presented throughout the textbook using the newly aquired skills. This is supported by interactive programming exercises generated with DataCamp Light and integration of interactive visualizations of central concepts which are based on the flexible JavaScript library D3.js." />
  <meta name="github-repo" content="mca91/EconometricsWithR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.2 Time Series Data and Serial Correlation | Introduction to Econometrics with R" />
  
  <meta name="twitter:description" content="Beginners with little background in statistics and econometrics often have a hard time understanding the benefits of having programming skills for learning and applying Econometrics. ‘Introduction to Econometrics with R’ is an interactive companion to the well-received textbook ‘Introduction to Econometrics’ by James H. Stock and Mark W. Watson (2015). It gives a gentle introduction to the essentials of R programming and guides students in implementing the empirical applications presented throughout the textbook using the newly aquired skills. This is supported by interactive programming exercises generated with DataCamp Light and integration of interactive visualizations of central concepts which are based on the flexible JavaScript library D3.js." />
  <meta name="twitter:image" content="https://www.econometrics-with-r.org/images/cover.png" />

<meta name="author" content="Christoph Hanck, Martin Arnold, Alexander Gerber and Martin Schmelzer" />


<meta name="date" content="2019-08-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="2-1-using-regression-models-for-forecasting.html">
<link rel="next" href="2-3-autoregressions.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<!-- font families -->

<link href="https://fonts.googleapis.com/css?family=PT+Sans|Pacifico|Source+Sans+Pro" rel="stylesheet">

<!--<script src="js/hideOutput.js"></script>-->

<!-- Mathjax -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/default.js"></script>

 <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["tex2jax.js", "TeX/AMSmath.js"],
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
        jax: ["input/TeX","output/CommonHTML"]
      });
      MathJax.Hub.processSectionDelay = 0;
  </script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110299877-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-110299877-1');
</script>

<!-- open review block -->

<script async defer src="https://hypothes.is/embed.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><center><img src="images/logo.png" alt="logo" width="50%" height="50%"style="margin: 15px 0 0 0"></center></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="1-introduction.html"><a href="1-introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="1-1-a-very-short-introduction-to-r-and-rstudio.html"><a href="1-1-a-very-short-introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>1.1</b> A Very Short Introduction to <tt>R</tt> and <em>RStudio</em></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-ittsraf.html"><a href="2-ittsraf.html"><i class="fa fa-check"></i><b>2</b> Introduction to Time Series Regression and Forecasting</a><ul>
<li class="chapter" data-level="2.1" data-path="2-1-using-regression-models-for-forecasting.html"><a href="2-1-using-regression-models-for-forecasting.html"><i class="fa fa-check"></i><b>2.1</b> Using Regression Models for Forecasting</a></li>
<li class="chapter" data-level="2.2" data-path="2-2-tsdasc.html"><a href="2-2-tsdasc.html"><i class="fa fa-check"></i><b>2.2</b> Time Series Data and Serial Correlation</a><ul>
<li class="chapter" data-level="" data-path="2-2-tsdasc.html"><a href="2-2-tsdasc.html#notation-lags-differences-logarithms-and-growth-rates"><i class="fa fa-check"></i>Notation, Lags, Differences, Logarithms and Growth Rates</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-3-autoregressions.html"><a href="2-3-autoregressions.html"><i class="fa fa-check"></i><b>2.3</b> Autoregressions</a><ul>
<li><a href="2-3-autoregressions.html#autoregressive-models-of-order-p">Autoregressive Models of Order <span class="math inline">\(p\)</span></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="2-4-cybtmpi.html"><a href="2-4-cybtmpi.html"><i class="fa fa-check"></i><b>2.4</b> Can You Beat the Market? (Part I)</a></li>
<li class="chapter" data-level="2.5" data-path="2-5-apatadlm.html"><a href="2-5-apatadlm.html"><i class="fa fa-check"></i><b>2.5</b> Additional Predictors and The ADL Model</a><ul>
<li class="chapter" data-level="" data-path="2-5-apatadlm.html"><a href="2-5-apatadlm.html#forecast-uncertainty-and-forecast-intervals"><i class="fa fa-check"></i>Forecast Uncertainty and Forecast Intervals</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="2-6-llsuic.html"><a href="2-6-llsuic.html"><i class="fa fa-check"></i><b>2.6</b> Lag Length Selection Using Information Criteria</a></li>
<li class="chapter" data-level="2.7" data-path="2-7-nit.html"><a href="2-7-nit.html"><i class="fa fa-check"></i><b>2.7</b> Nonstationarity I: Trends</a></li>
<li class="chapter" data-level="2.8" data-path="2-8-niib.html"><a href="2-8-niib.html"><i class="fa fa-check"></i><b>2.8</b> Nonstationarity II: Breaks</a></li>
<li class="chapter" data-level="2.9" data-path="2-9-can-you-beat-the-market-part-ii.html"><a href="2-9-can-you-beat-the-market-part-ii.html"><i class="fa fa-check"></i><b>2.9</b> Can You Beat the Market? (Part II)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Econometrics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div class = rmdreview>
This book is in <b>Open Review</b>. We want your feedback to make the book better for you and other students. You may annotate some text by <span style="background-color: #3297FD; color: white">selecting it with the cursor</span> and then click the <i class="h-icon-annotate"></i> on the pop-up menu. You can also see the annotations of others: click the <i class="h-icon-chevron-left"></i> in the upper right hand corner of the page <i class="fa fa-arrow-circle-right  fa-rotate-315" aria-hidden="true"></i>
</div>
<div id="tsdasc" class="section level2">
<h2><span class="header-section-number">2.2</span> Time Series Data and Serial Correlation</h2>
<p>GDP is commonly defined as the value of goods and services produced over a given time period. The data set <tt>us_macro_quarterly.xlsx</tt> is provided by the authors and can be downloaded <a href="http://wps.pearsoned.co.uk/wps/media/objects/16103/16489878/data3eu/us_macro_quarterly.xlsx">here</a>. It provides quarterly data on U.S. real (i.e. inflation adjusted) GDP from 1947 to 2004.</p>
<p>As before, a good starting point is to plot the data. The package <tt>quantmod</tt> provides some convenient functions for plotting and computing with time series data. We also load the package <tt>readxl</tt> to read the data into <tt>R</tt>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="2-2-tsdasc.html#cb14-1"></a><span class="co"># attach the package &#39;quantmod&#39;</span></span>
<span id="cb14-2"><a href="2-2-tsdasc.html#cb14-2"></a><span class="kw">library</span>(quantmod)</span></code></pre></div>
<p>We begin by importing the data set.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="2-2-tsdasc.html#cb15-1"></a><span class="co"># load US macroeconomic data</span></span>
<span id="cb15-2"><a href="2-2-tsdasc.html#cb15-2"></a>USMacroSWQ &lt;-<span class="st"> </span><span class="kw">read_xlsx</span>(<span class="st">&quot;Data/us_macro_quarterly.xlsx&quot;</span>,</span>
<span id="cb15-3"><a href="2-2-tsdasc.html#cb15-3"></a>                         <span class="dt">sheet =</span> <span class="dv">1</span>,</span>
<span id="cb15-4"><a href="2-2-tsdasc.html#cb15-4"></a>                         <span class="dt">col_types =</span> <span class="kw">c</span>(<span class="st">&quot;text&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;numeric&quot;</span>, <span class="dv">9</span>)))</span>
<span id="cb15-5"><a href="2-2-tsdasc.html#cb15-5"></a></span>
<span id="cb15-6"><a href="2-2-tsdasc.html#cb15-6"></a><span class="co"># format date column</span></span>
<span id="cb15-7"><a href="2-2-tsdasc.html#cb15-7"></a>USMacroSWQ<span class="op">$</span>...<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">as.yearqtr</span>(USMacroSWQ<span class="op">$</span>...<span class="dv">1</span>, <span class="dt">format =</span> <span class="st">&quot;%Y:0%q&quot;</span>)</span>
<span id="cb15-8"><a href="2-2-tsdasc.html#cb15-8"></a></span>
<span id="cb15-9"><a href="2-2-tsdasc.html#cb15-9"></a><span class="co"># adjust column names</span></span>
<span id="cb15-10"><a href="2-2-tsdasc.html#cb15-10"></a><span class="kw">colnames</span>(USMacroSWQ) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Date&quot;</span>, <span class="st">&quot;GDPC96&quot;</span>, <span class="st">&quot;JAPAN_IP&quot;</span>, <span class="st">&quot;PCECTPI&quot;</span>, </span>
<span id="cb15-11"><a href="2-2-tsdasc.html#cb15-11"></a>                          <span class="st">&quot;GS10&quot;</span>, <span class="st">&quot;GS1&quot;</span>, <span class="st">&quot;TB3MS&quot;</span>, <span class="st">&quot;UNRATE&quot;</span>, <span class="st">&quot;EXUSUK&quot;</span>, <span class="st">&quot;CPIAUCSL&quot;</span>)</span></code></pre></div>
<p>We the first column of <tt>us_macro_quarterly.xlsx</tt> contains text and the remaining ones are numeric. Using <tt>col_types = c(“text”, rep(“numeric”, 9))</tt> we tell <tt>read_xlsx()</tt> take this into account when importing the data.</p>
<p>It is useful to work with time-series objects that keep track of the frequency of the data and are extensible. In what follows we will use objects of the class <tt>xts</tt>, see <code>?xts</code>. Since the data in <tt>USMacroSWQ</tt> are in quarterly frequency we convert the first column to <tt>yearqtr</tt> format before generating the <tt>xts</tt> object <tt>GDP</tt>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="2-2-tsdasc.html#cb16-1"></a><span class="co"># GDP series as xts object</span></span>
<span id="cb16-2"><a href="2-2-tsdasc.html#cb16-2"></a>GDP &lt;-<span class="st"> </span><span class="kw">xts</span>(USMacroSWQ<span class="op">$</span>GDPC96, USMacroSWQ<span class="op">$</span>Date)[<span class="st">&quot;1960::2013&quot;</span>]</span>
<span id="cb16-3"><a href="2-2-tsdasc.html#cb16-3"></a></span>
<span id="cb16-4"><a href="2-2-tsdasc.html#cb16-4"></a><span class="co"># GDP growth series as xts object</span></span>
<span id="cb16-5"><a href="2-2-tsdasc.html#cb16-5"></a>GDPGrowth &lt;-<span class="st"> </span><span class="kw">xts</span>(<span class="dv">400</span> <span class="op">*</span><span class="st"> </span><span class="kw">log</span>(GDP<span class="op">/</span><span class="kw">lag</span>(GDP)))</span></code></pre></div>
<p>The following code chunks reproduce Figure 14.1 of the book.</p>
<div class="unfolded">
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="2-2-tsdasc.html#cb17-1"></a><span class="co"># reproduce Figure 14.1 (a) of the book</span></span>
<span id="cb17-2"><a href="2-2-tsdasc.html#cb17-2"></a><span class="kw">plot</span>(<span class="kw">log</span>(<span class="kw">as.zoo</span>(GDP)),</span>
<span id="cb17-3"><a href="2-2-tsdasc.html#cb17-3"></a>     <span class="dt">col =</span> <span class="st">&quot;steelblue&quot;</span>,</span>
<span id="cb17-4"><a href="2-2-tsdasc.html#cb17-4"></a>     <span class="dt">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb17-5"><a href="2-2-tsdasc.html#cb17-5"></a>     <span class="dt">ylab =</span> <span class="st">&quot;Logarithm&quot;</span>,</span>
<span id="cb17-6"><a href="2-2-tsdasc.html#cb17-6"></a>     <span class="dt">xlab =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb17-7"><a href="2-2-tsdasc.html#cb17-7"></a>     <span class="dt">main =</span> <span class="st">&quot;U.S. Quarterly Real GDP&quot;</span>)</span></code></pre></div>
<p><img src="ITER_files/figure-html/unnamed-chunk-20-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div class="unfolded">
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="2-2-tsdasc.html#cb18-1"></a><span class="co"># reproduce Figure 14.1 (b) of the book</span></span>
<span id="cb18-2"><a href="2-2-tsdasc.html#cb18-2"></a><span class="kw">plot</span>(<span class="kw">as.zoo</span>(GDPGrowth),</span>
<span id="cb18-3"><a href="2-2-tsdasc.html#cb18-3"></a>     <span class="dt">col =</span> <span class="st">&quot;steelblue&quot;</span>,</span>
<span id="cb18-4"><a href="2-2-tsdasc.html#cb18-4"></a>     <span class="dt">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb18-5"><a href="2-2-tsdasc.html#cb18-5"></a>     <span class="dt">ylab =</span> <span class="st">&quot;Logarithm&quot;</span>,</span>
<span id="cb18-6"><a href="2-2-tsdasc.html#cb18-6"></a>     <span class="dt">xlab =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb18-7"><a href="2-2-tsdasc.html#cb18-7"></a>     <span class="dt">main =</span> <span class="st">&quot;U.S. Real GDP Growth Rates&quot;</span>)</span></code></pre></div>
<p><img src="ITER_files/figure-html/unnamed-chunk-21-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="notation-lags-differences-logarithms-and-growth-rates" class="section level3 unnumbered">
<h3>Notation, Lags, Differences, Logarithms and Growth Rates</h3>
<p>For observations of a variable <span class="math inline">\(Y\)</span> recorded over time, <span class="math inline">\(Y_t\)</span> denotes the value observed at time <span class="math inline">\(t\)</span>. The period between two sequential observations <span class="math inline">\(Y_t\)</span> and <span class="math inline">\(Y_{t-1}\)</span> is a unit of time: hours, days, weeks, months, quarters, years etc. Key Concept 14.1 introduces the essential terminology and notation for time series data we use in the subsequent sections.</p>
<div id="KC14.1" class="keyconcept">
<h3 class="right">
Key Concept 14.1
</h3>
<h3 class="left">
Lags, First Differences, Logarithms and Growth Rates
</h3>
<ul>
<li><p>Previous values of a time series are called <em>lags</em>. The first lag of <span class="math inline">\(Y_t\)</span> is <span class="math inline">\(Y_{t-1}\)</span>. The <span class="math inline">\(j^{th}\)</span> lag of <span class="math inline">\(Y_t\)</span> is <span class="math inline">\(Y_{t-j}\)</span>. In <tt>r ttcode(“R”)</tt>, lags of univariate or multivariate time series objects are conveniently computed by <tt>lag()</tt>, see <tt>?lag</tt>.</p></li>
<li><p>Sometimes we work with a differenced series. The first difference of a series is <span class="math inline">\(\Delta Y_{t} = Y_t - Y_{t-1}\)</span>, the difference between periods <span class="math inline">\(t\)</span> and <span class="math inline">\(t-1\)</span>. If <tt>Y</tt> is a time series, the series of first differences is computed as <tt>diff(Y)</tt>.</p></li>
<li><p>It may be convenient to work with the first difference in logarithms of a series. We denote this by <span class="math inline">\(\Delta \log(Y_t) = \log(Y_t) - \log(Y_{t-1})\)</span>. For a time series <tt>Y</tt>, this is obtained using <tt>log(Y/lag(Y))</tt>.</p></li>
<li><p><span class="math inline">\(100 \Delta \log (Y_t)\)</span> is an approximation for the percentage change between <span class="math inline">\(Y_t\)</span> and <span class="math inline">\(Y_{t-1}\)</span>.</p></li>
</ul>
</div>
<p>The definitions made in Key Concept 14.1 are useful because of two properties that are common to many economic time series:</p>
<ul>
<li><p>Exponential growth: some economic series grow approximately exponentially such that their logarithm is approximately linear.</p></li>
<li><p>The standard deviation of many economic time series is approximately proportional to their level. Therefore, the standard deviation of the logarithm of such a series is approximately constant.</p></li>
</ul>
<p>Furthermore, it is common to report growth rates in macroeconomic series which is why <span class="math inline">\(\log\)</span>-differences are often used.</p>
<p>Table 14.1 of the book presents the quarterly U.S. GDP time series, its logarithm, the annualized growth rate and the first lag of the annualized growth rate series for the period 2012:Q1 - 2013:Q1. The following simple function can be used to compute these quantities for a quarterly time series <tt>series</tt>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="2-2-tsdasc.html#cb19-1"></a><span class="co"># compute logarithms, annual growth rates and 1st lag of growth rates</span></span>
<span id="cb19-2"><a href="2-2-tsdasc.html#cb19-2"></a>quants &lt;-<span class="st"> </span><span class="cf">function</span>(series) {</span>
<span id="cb19-3"><a href="2-2-tsdasc.html#cb19-3"></a>  s &lt;-<span class="st"> </span>series</span>
<span id="cb19-4"><a href="2-2-tsdasc.html#cb19-4"></a>  <span class="kw">return</span>(</span>
<span id="cb19-5"><a href="2-2-tsdasc.html#cb19-5"></a>    <span class="kw">data.frame</span>(<span class="st">&quot;Level&quot;</span> =<span class="st"> </span>s,</span>
<span id="cb19-6"><a href="2-2-tsdasc.html#cb19-6"></a>               <span class="st">&quot;Logarithm&quot;</span> =<span class="st"> </span><span class="kw">log</span>(s),</span>
<span id="cb19-7"><a href="2-2-tsdasc.html#cb19-7"></a>               <span class="st">&quot;AnnualGrowthRate&quot;</span> =<span class="st"> </span><span class="dv">400</span> <span class="op">*</span><span class="st"> </span><span class="kw">log</span>(s <span class="op">/</span><span class="st"> </span><span class="kw">lag</span>(s)),</span>
<span id="cb19-8"><a href="2-2-tsdasc.html#cb19-8"></a>               <span class="st">&quot;1stLagAnnualGrowthRate&quot;</span> =<span class="st"> </span><span class="kw">lag</span>(<span class="dv">400</span> <span class="op">*</span><span class="st"> </span><span class="kw">log</span>(s <span class="op">/</span><span class="st"> </span><span class="kw">lag</span>(s))))</span>
<span id="cb19-9"><a href="2-2-tsdasc.html#cb19-9"></a>    )</span>
<span id="cb19-10"><a href="2-2-tsdasc.html#cb19-10"></a>}</span></code></pre></div>
<p>The annual growth rate is computed using the approximation <span class="math display">\[Annual Growth Y_t = 400 \cdot\Delta\log(Y_t)\]</span> since <span class="math inline">\(100\cdot\Delta\log(Y_t)\)</span> is an approximation of the quarterly percentage changes, see Key Concept 14.1.</p>
<p>We call <tt>quants()</tt> on observations for the period 2011:Q3 - 2013:Q1.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="2-2-tsdasc.html#cb20-1"></a><span class="co"># obtain a data.frame with level, logarithm, annual growth rate and its 1st lag of GDP</span></span>
<span id="cb20-2"><a href="2-2-tsdasc.html#cb20-2"></a><span class="kw">quants</span>(GDP[<span class="st">&quot;2011-07::2013-01&quot;</span>])</span></code></pre></div>
<pre><code>##            Level Logarithm AnnualGrowthRate X1stLagAnnualGrowthRate
## 2011 Q3 15062.14  9.619940               NA                      NA
## 2011 Q4 15242.14  9.631819        4.7518062                      NA
## 2012 Q1 15381.56  9.640925        3.6422231               4.7518062
## 2012 Q2 15427.67  9.643918        1.1972004               3.6422231
## 2012 Q3 15533.99  9.650785        2.7470216               1.1972004
## 2012 Q4 15539.63  9.651149        0.1452808               2.7470216
## 2013 Q1 15583.95  9.653997        1.1392015               0.1452808</code></pre>
<div id="autocorrelation" class="section level4 unnumbered">
<h4>Autocorrelation</h4>
<p>Observations of a time series are typically correlated. This type of correlation is called <em>autocorrelation</em> or <em>serial correlation</em>. Key Concept 14.2 summarizes the concepts of population autocovariance and population autocorrelation and shows how to compute their sample equivalents.</p>
<div id="KC14.2" class="keyconcept">
<h3 class="right">
Key Concept 14.2
</h3>
<h3 class="left">
Autocorrelation and Autocovariance
</h3>
<p>The covariance between <span class="math inline">\(Y_t\)</span> and its <span class="math inline">\(j^{th}\)</span> lag, <span class="math inline">\(Y_{t-j}\)</span>, is called the <span class="math inline">\(j^{th}\)</span> <em>autocovariance</em> of the series <span class="math inline">\(Y_t\)</span>. The <span class="math inline">\(j^{th}\)</span> <em>autocorrelation coefficient</em>, also called the <em>serial correlation coefficient</em>, measures the correlation between <span class="math inline">\(Y_t\)</span> and <span class="math inline">\(Y_{t-j}\)</span>.</p>
<p>We thus have
<span class="math display">\[\begin{align*}
  j^{th} \text{autocovariance} =&amp; \, Cov(Y_t,Y_{t-j}), \\
  j^{th} \text{autocorrelation} = \rho_j =&amp; \, \rho_{Y_t,Y_{t-j}} = \frac{Cov(Y_t,Y_{t-j)}}{\sqrt{Var(Y_t)Var(Y_{t-j})}}.
\end{align*}\]</span></p>
<p>Population autocovariance and population autocorrelation can be estimated by <span class="math inline">\(\widehat{Cov(Y_t,Y_{t-j})}\)</span>, the sample autocovariance, and <span class="math inline">\(\widehat{\rho}_j\)</span>, the sample autocorrelation:</p>
<p><span class="math display">\[\begin{align*}
  \widehat{Cov(Y_t,Y_{t-j})} =&amp; \, \frac{1}{T} \sum_{t=j+1}^T (Y_t - \overline{Y}_{j+1:T})(Y_{t-j} - \overline{Y}_{1:T-j}), \\
  \widehat{\rho}_j =&amp; \, \frac{\widehat{Cov(Y_t,Y_{t-j})}}{\widehat{Var(Y_t)}}
\end{align*}\]</span></p>
<p><span class="math inline">\(\overline{Y}_{j+1:T}\)</span> denotes the average of <span class="math inline">\(Y_{j+1}, Y{j+2}, \dots, Y_T\)</span>.</p>
<p>In <tt>R</tt> the function <tt>acf()</tt> from the package <tt>stats</tt> computes the sample autocovariance or the sample autocorrelation function.</p>
</div>
<p>Using <tt>acf()</tt> it is straightforward to compute the first four sample autocorrelations of the series <tt>GDPGrowth</tt>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="2-2-tsdasc.html#cb22-1"></a><span class="kw">acf</span>(<span class="kw">na.omit</span>(GDPGrowth), <span class="dt">lag.max =</span> <span class="dv">4</span>, <span class="dt">plot =</span> F)</span></code></pre></div>
<pre><code>## 
## Autocorrelations of series &#39;na.omit(GDPGrowth)&#39;, by lag
## 
##  0.00  0.25  0.50  0.75  1.00 
## 1.000 0.352 0.273 0.114 0.106</code></pre>
<p>This is evidence that there is mild positive autocorrelation in the growth of GDP: if GDP grows faster than average in one period, there is a tendency for it to grow faster than average in the following periods.</p>
</div>
<div id="other-examples-of-economic-time-series" class="section level4 unnumbered">
<h4>Other Examples of Economic Time Series</h4>
<p>Figure 14.2 of the book presents four plots: the U.S. unemployment rate, the U.S. Dollar / British Pound exchange rate, the logarithm of the Japanese industrial production index as well as daily changes in the Wilshire 5000 stock price index, a financial time series. The next code chunk reproduces the plots of the three macroeconomic series and adds percentage changes in the daily values of the New York Stock Exchange Composite index as a fourth one (the data set <tt>NYSESW</tt> comes with the <tt>AER</tt> package).</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="2-2-tsdasc.html#cb24-1"></a><span class="co"># define series as xts objects</span></span>
<span id="cb24-2"><a href="2-2-tsdasc.html#cb24-2"></a>USUnemp &lt;-<span class="st"> </span><span class="kw">xts</span>(USMacroSWQ<span class="op">$</span>UNRATE, USMacroSWQ<span class="op">$</span>Date)[<span class="st">&quot;1960::2013&quot;</span>]</span>
<span id="cb24-3"><a href="2-2-tsdasc.html#cb24-3"></a></span>
<span id="cb24-4"><a href="2-2-tsdasc.html#cb24-4"></a>DollarPoundFX &lt;-<span class="st"> </span><span class="kw">xts</span>(USMacroSWQ<span class="op">$</span>EXUSUK, USMacroSWQ<span class="op">$</span>Date)[<span class="st">&quot;1960::2013&quot;</span>]</span>
<span id="cb24-5"><a href="2-2-tsdasc.html#cb24-5"></a>  </span>
<span id="cb24-6"><a href="2-2-tsdasc.html#cb24-6"></a>JPIndProd &lt;-<span class="st"> </span><span class="kw">xts</span>(<span class="kw">log</span>(USMacroSWQ<span class="op">$</span>JAPAN_IP), USMacroSWQ<span class="op">$</span>Date)[<span class="st">&quot;1960::2013&quot;</span>]</span>
<span id="cb24-7"><a href="2-2-tsdasc.html#cb24-7"></a></span>
<span id="cb24-8"><a href="2-2-tsdasc.html#cb24-8"></a><span class="co"># attach NYSESW data</span></span>
<span id="cb24-9"><a href="2-2-tsdasc.html#cb24-9"></a><span class="kw">data</span>(<span class="st">&quot;NYSESW&quot;</span>)  </span>
<span id="cb24-10"><a href="2-2-tsdasc.html#cb24-10"></a>NYSESW &lt;-<span class="st"> </span><span class="kw">xts</span>(<span class="kw">Delt</span>(NYSESW))</span></code></pre></div>
<div class="unfolded">
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="2-2-tsdasc.html#cb25-1"></a><span class="co"># divide plotting area into 2x2 matrix</span></span>
<span id="cb25-2"><a href="2-2-tsdasc.html#cb25-2"></a><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb25-3"><a href="2-2-tsdasc.html#cb25-3"></a></span>
<span id="cb25-4"><a href="2-2-tsdasc.html#cb25-4"></a><span class="co"># plot the series</span></span>
<span id="cb25-5"><a href="2-2-tsdasc.html#cb25-5"></a><span class="kw">plot</span>(<span class="kw">as.zoo</span>(USUnemp),</span>
<span id="cb25-6"><a href="2-2-tsdasc.html#cb25-6"></a>     <span class="dt">col =</span> <span class="st">&quot;steelblue&quot;</span>,</span>
<span id="cb25-7"><a href="2-2-tsdasc.html#cb25-7"></a>     <span class="dt">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb25-8"><a href="2-2-tsdasc.html#cb25-8"></a>     <span class="dt">ylab =</span> <span class="st">&quot;Percent&quot;</span>,</span>
<span id="cb25-9"><a href="2-2-tsdasc.html#cb25-9"></a>     <span class="dt">xlab =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb25-10"><a href="2-2-tsdasc.html#cb25-10"></a>     <span class="dt">main =</span> <span class="st">&quot;US Unemployment Rate&quot;</span>,</span>
<span id="cb25-11"><a href="2-2-tsdasc.html#cb25-11"></a>     <span class="dt">cex.main =</span> <span class="dv">1</span>)</span>
<span id="cb25-12"><a href="2-2-tsdasc.html#cb25-12"></a></span>
<span id="cb25-13"><a href="2-2-tsdasc.html#cb25-13"></a><span class="kw">plot</span>(<span class="kw">as.zoo</span>(DollarPoundFX),</span>
<span id="cb25-14"><a href="2-2-tsdasc.html#cb25-14"></a>     <span class="dt">col =</span> <span class="st">&quot;steelblue&quot;</span>,</span>
<span id="cb25-15"><a href="2-2-tsdasc.html#cb25-15"></a>     <span class="dt">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb25-16"><a href="2-2-tsdasc.html#cb25-16"></a>     <span class="dt">ylab =</span> <span class="st">&quot;Dollar per pound&quot;</span>,</span>
<span id="cb25-17"><a href="2-2-tsdasc.html#cb25-17"></a>     <span class="dt">xlab =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb25-18"><a href="2-2-tsdasc.html#cb25-18"></a>     <span class="dt">main =</span> <span class="st">&quot;U.S. Dollar / B. Pound Exchange Rate&quot;</span>,</span>
<span id="cb25-19"><a href="2-2-tsdasc.html#cb25-19"></a>     <span class="dt">cex.main =</span> <span class="dv">1</span>)</span>
<span id="cb25-20"><a href="2-2-tsdasc.html#cb25-20"></a></span>
<span id="cb25-21"><a href="2-2-tsdasc.html#cb25-21"></a><span class="kw">plot</span>(<span class="kw">as.zoo</span>(JPIndProd),</span>
<span id="cb25-22"><a href="2-2-tsdasc.html#cb25-22"></a>     <span class="dt">col =</span> <span class="st">&quot;steelblue&quot;</span>,</span>
<span id="cb25-23"><a href="2-2-tsdasc.html#cb25-23"></a>     <span class="dt">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb25-24"><a href="2-2-tsdasc.html#cb25-24"></a>     <span class="dt">ylab =</span> <span class="st">&quot;Logarithm&quot;</span>,</span>
<span id="cb25-25"><a href="2-2-tsdasc.html#cb25-25"></a>     <span class="dt">xlab =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb25-26"><a href="2-2-tsdasc.html#cb25-26"></a>     <span class="dt">main =</span> <span class="st">&quot;Japanese Industrial Production&quot;</span>,</span>
<span id="cb25-27"><a href="2-2-tsdasc.html#cb25-27"></a>     <span class="dt">cex.main =</span> <span class="dv">1</span>)</span>
<span id="cb25-28"><a href="2-2-tsdasc.html#cb25-28"></a></span>
<span id="cb25-29"><a href="2-2-tsdasc.html#cb25-29"></a><span class="kw">plot</span>(<span class="kw">as.zoo</span>(NYSESW),</span>
<span id="cb25-30"><a href="2-2-tsdasc.html#cb25-30"></a>     <span class="dt">col =</span> <span class="st">&quot;steelblue&quot;</span>,</span>
<span id="cb25-31"><a href="2-2-tsdasc.html#cb25-31"></a>     <span class="dt">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb25-32"><a href="2-2-tsdasc.html#cb25-32"></a>     <span class="dt">ylab =</span> <span class="st">&quot;Percent per Day&quot;</span>,</span>
<span id="cb25-33"><a href="2-2-tsdasc.html#cb25-33"></a>     <span class="dt">xlab =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb25-34"><a href="2-2-tsdasc.html#cb25-34"></a>     <span class="dt">main =</span> <span class="st">&quot;New York Stock Exchange Composite Index&quot;</span>,</span>
<span id="cb25-35"><a href="2-2-tsdasc.html#cb25-35"></a>     <span class="dt">cex.main =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="ITER_files/figure-html/unnamed-chunk-30-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<p>The series show quite different characteristics. The unemployment rate increases during recessions and declines during economic recoveries and growth. The Dollar/Pound exchange rates shows a deterministic pattern until the end of the Bretton Woods system. Japan’s industrial production exhibits an upward trend and decreasing growth. Daily changes in the New York Stock Exchange composite index seem to fluctuate randomly around the zero line. The sample autocorrelations support this conjecture.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="2-2-tsdasc.html#cb26-1"></a><span class="co"># compute sample autocorrelation for the NYSESW series</span></span>
<span id="cb26-2"><a href="2-2-tsdasc.html#cb26-2"></a><span class="kw">acf</span>(<span class="kw">na.omit</span>(NYSESW), <span class="dt">plot =</span> F, <span class="dt">lag.max =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## 
## Autocorrelations of series &#39;na.omit(NYSESW)&#39;, by lag
## 
##      0      1      2      3      4      5      6      7      8      9 
##  1.000  0.040 -0.016 -0.023  0.000 -0.036 -0.027 -0.059  0.013  0.017 
##     10 
##  0.004</code></pre>
<p>The first 10 sample autocorrelation coefficients are very close to zero. The default plot generated by <code>acf()</code> provides further evidence.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="2-2-tsdasc.html#cb28-1"></a><span class="co"># plot sample autocorrelation for the NYSESW series</span></span>
<span id="cb28-2"><a href="2-2-tsdasc.html#cb28-2"></a><span class="kw">acf</span>(<span class="kw">na.omit</span>(NYSESW), <span class="dt">main =</span> <span class="st">&quot;Sample Autocorrelation for NYSESW Data&quot;</span>)</span></code></pre></div>
<p><img src="ITER_files/figure-html/unnamed-chunk-32-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>The blue dashed bands represent values beyond which the autocorrelations are significantly different from zero at <span class="math inline">\(5\%\)</span> level. Even when the true autocorrelations are zero, we need to expect a few exceedences — recall the definition of a type-I-error from Key Concept 3.5.
For most lags we see that the sample autocorrelation does not exceed the bands and there are only a few cases that lie marginally beyond the limits.</p>
<p>Furthermore, the <tt>NYSESW</tt> series exhibits what econometricians call <em>volatility clustering</em>: there are periods of high and periods of low variance. This is common for many financial time series.</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="2-1-using-regression-models-for-forecasting.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="2-3-autoregressions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": "https://github.com/mca91/EconometricsWithR/edit/master/14-ch14.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["ITER.pdf"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
